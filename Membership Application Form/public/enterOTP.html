<!DOCTYPE html>
<html>

<head>

    <title>Membership Application Form</title>

    <link rel="stylesheet" href="style.css" />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>


    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://fortawesome.github.io/Font-Awesome/assets/font-awesome/css/font-awesome.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/solid.css">

</head>

<body>
    <div class="container">
        <div class="form-container">
            <div class="signin">
                <form action="http://localhost:3000/validateOTP" method="post" class="form-sign-in" id="SignInForm">
                    <h1>Enter OTP</h1>
                    <br>
                    <div class="enterOTP-password-container">
                        <input type="text" name="otp" id="otp" placeholder="&#xf023;&nbsp Enter OTP"
                            style="font-family: Arial, 'Font Awesome 5 Free'" />
                        <i class="enterOTP-password-toggle fas fa-eye" onclick="toggleenterOTPPasswordVisibility()"
                            style="color:#757474;"></i>
                    </div>

                    <a href="index.html">Back to Login?</a>

                    <button type="submit" class="btn btn-form">Login</button>
                </form>
            </div>

            <div class="signup">
                <form action="http://localhost:3000/sign_up" method="post" class="form-sign-up" id="SignUpForm">
                    <h1>Sign Up</h1>
                    <h4 class="mt-1">Membarship Application Form</h4>

                    <input type="text" name="fname" id="fname" placeholder="&#xf007;&nbsp Name"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />

                    <input type="text" name="email" id="email" placeholder="&#xf0e0;&nbsp Email"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />


                    <input type="password" name="password" id="password" placeholder="&#xf023;&nbsp Password"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />


                    <input type="password" name="rpassword" id="rpassword" placeholder="&#xf023;&nbsp Retype Password"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />


                    <div class="row text-start mt-5" style="display: flex; justify-content: space-between;">
                        <label for="gender" class="text-start label"
                            style="font-family: Roboto, 'Font Awesome 5 Free'">Gender:</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        <label class="radio-container">
                            <input type="radio" name="gender" value="female">
                            <i class="radio-icon"></i> <span style="font-size: 13px;">&nbsp&nbsp&nbsp&nbspFemale</span>
                        </label>&nbsp
                        <label class="radio-container">
                            <input type="radio" name="gender" value="male">
                            <i class="radio-icon"></i><span
                                style="font-size: 13px;">&nbsp&nbsp&nbsp&nbsp&nbspMale</span>
                        </label>&nbsp
                        <label class="radio-container">
                            <input type="radio" name="gender" value="other">
                            <i class="radio-icon"></i> <span
                                style="font-size: 13px;">&nbsp&nbsp&nbsp&nbsp&nbspOther</span>
                        </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    </div>

                    <input type="text" name="address" id="address" placeholder="&#xf041;&nbsp Address"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />


                    <div class="row text-start mt-5 p-5 colums" style="display: flex; justify-content: space-between;">
                        <input type="text" name="phone" id="phone" placeholder="&#xf095;&nbsp Phone Number"
                            style="font-family: Arial, 'Font Awesome 5 Free'" />

                        <input type="text" name="dob" id="dob" placeholder="&#xf073; DOB" onfocus="(this.type='date')"
                            onblur="(this.type='text')" style="font-family: Arial, 'Font Awesome 5 Free'">
                    </div>

                    <h4 class="text-start mt-5 mb-3">Professional Information</h4>
                    &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

                    <input type="text" name="qualification" id="qualification" placeholder="&#xf19d;&nbsp Qualification"
                        style="font-family: Arial, 'Font Awesome 5 Free'" />

                    <input type="text" name="bExperience" id="bExperience"
                        placeholder="&#xf0b1;&nbsp Business Experience"
                        style="font-family: Arial, 'Font Awesome 5 Free';" />

                    <input type="text" name="currentOccu" id="currentOccu"
                        placeholder="&#xf508;&nbsp Current Occupation"
                        style="font-family: Arial, 'Font Awesome 5 Free';" />

                    <input type="text" name="aIncome" id="aIncome" placeholder="&#xf155;&nbsp Annual Income"
                        style="font-family: Arial, 'Font Awesome 5 Free';" />

                    <button type="submit" name="submit" class="btn btn-form">SIGN
                        UP</button>
                </form>
            </div>
        </div>
        <div class="overlay">
            <div class="overlay-panel overlay-signin">
                <h1>
                    Welcome Back!
                </h1>
                <span>
                    To keep connected with us please login with your personal info
                </span>
                <button class="btn btn-overlay" onclick="togglePage()">
                    Sign In
                </button>
            </div>
            <div class="overlay-panel overlay-signup">
                <h1>
                    Hello, Friend!
                </h1>
                <span>
                    Enter your personal details and start journey with us
                </span>
                <button class="btn btn-overlay" onclick="togglePage()">
                    Sign Up
                </button>
            </div>
        </div>
    </div>
</body>
<script>
    function togglePage() {
        document.querySelector(".overlay-signin").classList.toggle("show");
        document.querySelector(".overlay-signup").classList.toggle("hide");
        document.querySelector(".signup").classList.toggle("show");
        document.querySelector(".signin").classList.toggle("hide");
    }

    //Enter OTP toggle 
    function toggleenterOTPPasswordVisibility() {
        const lotpInput = document.getElementById('otp');
        const lotpToggle = document.querySelector('.enterOTP-password-toggle');

        if (lotpInput.type === 'password') {
            lotpInput.type = 'text';
            lotpToggle.classList.remove('fa-eye');
            lotpToggle.classList.add('fa-eye-slash');
        } else {
            lotpInput.type = 'password';
            lotpToggle.classList.remove('fa-eye-slash');
            lotpToggle.classList.add('fa-eye');
        }
    }


    function validateForm() {
        const form = document.getElementById("SignUpForm");
        const fullName = form.fname.value;
        const email = form.email.value;
        const password = form.password.value;
        const rpassword = form.rpassword.value;
        const gender = form.gender.value;
        const address = form.address.value;
        const phone = form.phone.value;
        const dob = form.dob.value;
        const qualification = form.qualification.value;
        const bExperience = form.bExperience.value;
        const currentOccu = form.currentOccu.value;
        const aIncome = form.aIncome.value;


        if (fullName === "") {
            alert("Full Name is required");
            return false;
        }

        if (email === "" || !isValidEmail(email)) {
            alert("Please enter a valid email address");
            return false;
        }

        if (password === "") {
            alert("Password is required");
            return false;
        }

        if (rpassword === "") {
            alert("Repeate Password is required");
            return false;
        }

        if (password != rpassword) {
            alert("Password Should Match");
            return false;
        }

        if (gender === "") {
            alert("Gender is required");
            return false;
        }

        if (address === "") {
            alert("Address is required");
            return false;
        }

        if (phone === "" || !isValidPhone(phone)) {
            alert("Please enter a valid Phone Number");
            return false;
        }

        if (dob === "") {
            alert("Date of Birth is required");
            return false;
        }

        if (qualification === "") {
            alert("Qualification is required");
            return false;
        }

        if (bExperience === "") {
            alert("Business Experience is required");
            return false;
        }

        if (currentOccu === "") {
            alert("current Occupation is required");
            return false;
        }

        if (aIncome === "") {
            alert("Annual Income is required");
            return false;
        }

        return true;
    }

    function isValidEmail(email) {
        const emailPattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        return emailPattern.test(email);
    }

    function isValidPhone(phone) {
        const phonePattern = /^\d{10}$/;
        return phonePattern.test(phone);
    }

    function isValidPassword(password) {
        const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/;
        if ((password.length < 8 || password.length > 16) && (!passwordPattern.test(password))) {
            alert("Password must contain at least one uppercase letter, one lowercase letter, and one digit, Password must contain at least 8 characters");
            password.focus();
            return false;
        }
    }

    const form = document.getElementById("SignUpForm");
    form.addEventListener("submit", function (event) {
        console.log("Check");
        if (!validateForm()) {
            event.preventDefault();
        }
    });


    //Login Form Validation
    function validateLoginForm() {
        const form = document.getElementById("SignInForm");
        const otp = form.otp.value;
        console.log("otp", otp);

        if (otp === "") {
            alert("OTP is required");
            return false;
        }

        return true;
    }


    //After registration navigation to login
    const loginForm = document.getElementById("SignInForm");
    loginForm.addEventListener("submit", function (event) {
        if (validateLoginForm()) {
            alert("Login Successfull");
        }
    });


</script>

</html>